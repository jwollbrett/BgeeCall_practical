---
title: "Choose your intergenic release"
author: "Julien"
date: "2020-04-22"
output: workflowr::wflow_html
editor_options:
  chunk_output_type: console
---

```{r load-libs, message = FALSE, warning = FALSE, echo=FALSE}
library(BgeeCall)
```

## Introduction

Genes called present in an RNA-Seq library are often defined using an abitrary cutoff of log2(TPM) = 1. BgeeCall allows to calculate a library specific cutoff.
Reference intergenic sequences are the key element to define this library secific TPM cutoff.
The cutoff is defined with the equation :

$$ \frac {proportion\ of\ reference\ intergenic\ present}{proportion\ of\ protein\ coding\ present} = 0.05 $$

This section describes the different releases of reference intergenic that are available and explain how to get information of species available in each release.
**In this practical we will only use the last official Bgee intergenic release.**

## List all releases available

To list all available intergenic releases run the function :
```{r list_releases}
releases <- list_intergenic_release()
subset(releases, select=c(release, releaseDate, description))
```

In this list the first line always correspond to last official Bgee release.

## Bgee releases

All releases for which the name is a number are Bgee releases. It means all reference intergenic sequences from these releases have been generated by the Bgee team.
It is possible to list all species available in one bgee release with the commands :
```{r list_bgee_species}
# create an object of the class BgeeMetadata using Bgee release 0.2
bgee <- new("BgeeMetadata")
# list species available for this release
list_bgee_ref_intergenic_species(bgee)
```

## Community release

If your species of interest is not present in the last official intergenic release you can check if the BgeeCall community already generated the reference intergenic sequences.
To do so use the commands :
```{r list_community_species}
list_community_ref_intergenic_species()
```

It is possible to use these species in BgeeCall with the commands :
```{r community_bgee_object}
bgee <- new("BgeeMetadata", intergenic_release="community")
```

If you did not find your species, you can participate to the community and generate your own reference intergenic sequences.
A tutorial describing prerequisites and all steps is available [here](https://github.com/BgeeDB/reference_intergenic_standalone)

## Custom release

This release allows not to download reference intergenic sequences but import them from a file.
